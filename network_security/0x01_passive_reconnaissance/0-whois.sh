#!/bin/bash
whois "$1" | awk 'BEGIN{s=""}/Registrant Name:/{s=s"Registrant Name, ";sub(/.*Name:[[:space:]]*/,"");s=s$0"\n"}/Registrant Organization:/{s=s"Registrant Organization, ";sub(/.*Organization:[[:space:]]*/,"");s=s$0"\n"}/Registrant Street:/{s=s"Registrant Street, ";sub(/.*Street:[[:space:]]*/,"");s=s$0"\n"}/Registrant City:/{s=s"Registrant City, ";sub(/.*City:[[:space:]]*/,"");s=s$0"\n"}/Registrant State\/Province:/{s=s"Registrant State/Province, ";sub(/.*State\/Province:[[:space:]]*/,"");s=s$0"\n"}/Registrant Postal Code:/{s=s"Registrant Postal Code, ";sub(/.*Postal Code:[[:space:]]*/,"");s=s$0"\n"}/Registrant Country:/{s=s"Registrant Country, ";sub(/.*Country:[[:space:]]*/,"");s=s$0"\n"}/Registrant Phone:/{if(/Phone Ext:/){s=s"Registrant Phone Ext:, ";sub(/.*Phone Ext:[[:space:]]*/,"");s=s$0"\n"}else{s=s"Registrant Phone, ";sub(/.*Phone:[[:space:]]*/,"");s=s$0"\n"}}/Registrant Fax:/{if(/Fax Ext:/){s=s"Registrant Fax Ext:, ";sub(/.*Fax Ext:[[:space:]]*/,"");s=s$0"\n"}else{s=s"Registrant Fax, ";sub(/.*Fax:[[:space:]]*/,"");s=s$0"\n"}}/Registrant Email:/{s=s"Registrant Email, ";sub(/.*Email:[[:space:]]*/,"");s=s$0"\n"}/Admin Name:/{s=s"Admin Name, ";sub(/.*Name:[[:space:]]*/,"");s=s$0"\n"}/Admin Organization:/{s=s"Admin Organization, ";sub(/.*Organization:[[:space:]]*/,"");s=s$0"\n"}/Admin Street:/{s=s"Admin Street, ";sub(/.*Street:[[:space:]]*/,"");s=s$0"\n"}/Admin City:/{s=s"Admin City, ";sub(/.*City:[[:space:]]*/,"");s=s$0"\n"}/Admin State\/Province:/{s=s"Admin State/Province, ";sub(/.*State\/Province:[[:space:]]*/,"");s=s$0"\n"}/Admin Postal Code:/{s=s"Admin Postal Code, ";sub(/.*Postal Code:[[:space:]]*/,"");s=s$0"\n"}/Admin Country:/{s=s"Admin Country, ";sub(/.*Country:[[:space:]]*/,"");s=s$0"\n"}/Admin Phone:/{if(/Phone Ext:/){s=s"Admin Phone Ext:, ";sub(/.*Phone Ext:[[:space:]]*/,"");s=s$0"\n"}else{s=s"Admin Phone, ";sub(/.*Phone:[[:space:]]*/,"");s=s$0"\n"}}/Admin Fax:/{if(/Fax Ext:/){s=s"Admin Fax Ext:, ";sub(/.*Fax Ext:[[:space:]]*/,"");s=s$0"\n"}else{s=s"Admin Fax, ";sub(/.*Fax:[[:space:]]*/,"");s=s$0"\n"}}/Admin Email:/{s=s"Admin Email, ";sub(/.*Email:[[:space:]]*/,"");s=s$0"\n"}/Tech Name:/{s=s"Tech Name, ";sub(/.*Name:[[:space:]]*/,"");s=s$0"\n"}/Tech Organization:/{s=s"Tech Organization, ";sub(/.*Organization:[[:space:]]*/,"");s=s$0"\n"}/Tech Street:/{s=s"Tech Street, ";sub(/.*Street:[[:space:]]*/,"");s=s$0"\n"}/Tech City:/{s=s"Tech City, ";sub(/.*City:[[:space:]]*/,"");s=s$0"\n"}/Tech State\/Province:/{s=s"Tech State/Province, ";sub(/.*State\/Province:[[:space:]]*/,"");s=s$0"\n"}/Tech Postal Code:/{s=s"Tech Postal Code, ";sub(/.*Postal Code:[[:space:]]*/,"");s=s$0"\n"}/Tech Country:/{s=s"Tech Country, ";sub(/.*Country:[[:space:]]*/,"");s=s$0"\n"}/Tech Phone:/{if(/Phone Ext:/){s=s"Tech Phone Ext:, ";sub(/.*Phone Ext:[[:space:]]*/,"");s=s$0"\n"}else{s=s"Tech Phone, ";sub(/.*Phone:[[:space:]]*/,"");s=s$0"\n"}}/Tech Fax:/{if(/Fax Ext:/){s=s"Tech Fax Ext:, ";sub(/.*Fax Ext:[[:space:]]*/,"");s=s$0"\n"}else{s=s"Tech Fax, ";sub(/.*Fax:[[:space:]]*/,"");s=s$0"\n"}}/Tech Email:/{s=s"Tech Email, ";sub(/.*Email:[[:space:]]*/,"");s=s$0"\n"}END{printf "%s",s}'
